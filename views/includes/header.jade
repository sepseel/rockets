nav.navbar.navbar-dark.bg-dark.navbar-expand-lg
  a(href="/").navbar-brand Sevbesau 
  button(type="button", data-toggle="collapse",  data-target="#navbarSupportedContent", aria-controls="navbarSupportedContent", aria-expanded="false", aria-label="Toggle navigation").navbar-toggler
    span.navbar-toggler-icon
  .collapse.navbar-collapse#navbarSupportedContent
    // games and leaderboards 
    ul.navbar-nav.mr-auto
      // games
      li.nav-item.dropdown
        a(href="#", data-toggle="dropdown", role="button", aria-hashpopup="true", aria-expanded="false").nav-link.dropdown-toggle
          | Games
        .dropdown-menu
          a(href="/games/spacewars").dropdown-item SpaceWars
          a(href="/games/snake").dropdown-item Snake
          a(href="/games/rubiks").dropdown-item Rubiks
      // leaderboards
      li.nav-item.dropdown
        a(href="#", data-toggle="dropdown", role="button", aria-hashpopup="true", aria-expanded="false").nav-link.dropdown-toggle
          | Leaderboards
        .dropdown-menu
          a(href="/scores/leaderboards/spacewars").dropdown-item SpaceWars
          a(href="/scores/leaderboards/snake").dropdown-item Snake
          a(href="/scores/leaderboards/rubiks").dropdown-item Rubiks
    // user section 
    ul.navbar-nav.justify-content-end
      if !loggedIn
        // show links to login/register
        li.nav-item
          a(href="/users/login").nav-link.active Login
        li.nav-item
          a(href="/users/register").nav-link.active Register
      else
        // show dropdown to manage account
        li.nav-item.dropdown#dropdown-account
          a(href="#", data-toggle="dropdown", role="button", aria-hashpopup="true", aria-expanded="false").nav-link.dropdown-toggle#username
            img(src="#{user.imageUrl}", alt="[X]").avatar
            =user.username
          .dropdown-menu.dropdown-menu-right
            a(href="/users/#{user._id}").dropdown-item Manage Account
            a(href="/users/logout").dropdown-item Logout
      